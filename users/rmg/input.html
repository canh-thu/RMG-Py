<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5. Creating Input Files &mdash; RMG Py 2.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/rmg.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="RMG Py 2.0.0 documentation" href="../../contents.html" />
    <link rel="up" title="RMG User’s Guide" href="index.html" />
    <link rel="next" title="6. Example Input Files" href="examples.html" />
    <link rel="prev" title="4.3.1. Dependencies" href="installation/dependencies.html" />
<script type="text/x-mathjax-config">
MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
  MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
    ce: ["Extension","mhchem"],
  });
});
</script>

  </head>
  <body role="document">
<div class="header">
&nbsp;
</div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="6. Example Input Files"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation/dependencies.html" title="4.3.1. Dependencies"
             accesskey="P">previous</a> |</li>
<li><a href="../../index.html">Documentation 2.0.0</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >User&#8217;s Guide</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">RMG User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>
            
  <div class="section" id="creating-input-files">
<span id="input"></span><h1>5. Creating Input Files<a class="headerlink" href="#creating-input-files" title="Permalink to this headline">¶</a></h1>
<p>The syntax and parameters within an RMG input file are explained below.  We recommend
trying to build your first input file while referencing one of the
<a class="reference internal" href="examples.html#examples"><span class="std std-ref">Example Input Files</span></a>.  Alternatively, you can use our web form found
at <a class="reference external" href="http://rmg.mit.edu/input">http://rmg.mit.edu/input</a> to assist in creating an input file.</p>
<div class="section" id="syntax">
<h2>5.1. Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>The format of RMG-Py <code class="file docutils literal"><span class="pre">input.py</span></code> is based on Python syntax.</p>
<p>Each section is made up of one or more function calls, where parameters are
specified as text strings, numbers, or objects. Text strings must be wrapped in
either single or double quotes.</p>
</div>
<div class="section" id="datasources">
<h2>5.2. Datasources<a class="headerlink" href="#datasources" title="Permalink to this headline">¶</a></h2>
<p>This section explains how to specify various reaction and thermo data sources in the input file.</p>
<div class="section" id="thermo-libraries">
<span id="thermolibraries"></span><h3>5.2.1. Thermo Libraries<a class="headerlink" href="#thermo-libraries" title="Permalink to this headline">¶</a></h3>
<p>By default, RMG will calculate the thermodynamic properties of the species from
Benson additivity formulas. In general, the group-additivity results are
suitably accurate. However, if you would like to override the default settings,
you may specify the thermodynamic properties of species in the
ThermoLibrary. When a species is specified in the ThermoLibrary,
RMG will automatically use those thermodynamic properties instead of generating
them from Benson&#8217;s formulas. Multiple libraries may be created, if so desired.
The order in which the thermo libraries are specified is important:
If a species appears in multiple thermo libraries, the first instance will
be used.</p>
<p>Now in RMG, you have two types of thermo libraries: gas and liquid thermo libraries. As species thermo in liquid phase depends on the solvent,
those libraries can only be used in liquid phase simulation with the corresponding solvent. Gas phase thermo library can be used either in gas phase simulation or
in liquid phase simulation. (see more details on the two <a class="reference internal" href="database/thermo.html#thermolibrarytype"><span class="std std-ref">thermo library types</span></a> and <a class="reference internal" href="liquids.html#useofthermolibrariesliquid"><span class="std std-ref">how to use thermo librairies in liquid phase simulation</span></a>)</p>
<p>Please see Section <a class="reference internal" href="database/thermo.html#thermodatabase"><span class="std std-ref">editing thermo database</span></a> for more details. In general, it is best to leave the ThermoLibrary
set to its default value.  In particular, the thermodynamic properties for H and H2
must be specified in one of the primary thermo libraries as they cannot be estimated
by Benson&#8217;s method.</p>
<p>For example, if you wish to use the GRI-Mech 3.0 mechanism <a class="reference internal" href="#grimech3-0" id="id1">[GRIMech3.0]</a> as a ThermoLibrary in your model, the syntax will be:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">thermoLibraries</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;primaryThermoLibrary&#39;</span><span class="p">,</span><span class="s">&#39;GRI-Mech3.0&#39;</span><span class="p">]</span>
</pre></div>
</div>
<table class="docutils citation" frame="void" id="grimech3-0" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[GRIMech3.0]</a></td><td>Gregory P. Smith, David M. Golden, Michael Frenklach, Nigel W. Moriarty, Boris Eiteneer, Mikhail Goldenberg, C. Thomas Bowman, Ronald K. Hanson, Soonho Song, William C. Gardiner, Jr., Vitali V. Lissianski, and Zhiwei Qin <a class="reference external" href="http://www.me.berkeley.edu/gri_mech/">http://www.me.berkeley.edu/gri_mech/</a></td></tr>
</tbody>
</table>
<p>This library is located in the
<code class="file docutils literal"><span class="pre">$RMG/RMG-database/input/thermo/libraries</span></code> directory.  All &#8220;Locations&#8221; for the
ThermoLibrary field must be with respect to the <code class="file docutils literal"><span class="pre">$RMG/RMG-database/input/thermo/libraries</span></code>
directory.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Checks during the initialization are maid to avoid users to use &#8220;liquid thermo librairies&#8221; in gas phase simulations or to use
&#8220;liquid phase libraries&#8221; obtained in another solvent that the one defined in the input file in liquid phase simulations.</p>
</div>
</div>
<div class="section" id="reaction-libraries">
<span id="reactionlibraries"></span><h3>5.2.2. Reaction Libraries<a class="headerlink" href="#reaction-libraries" title="Permalink to this headline">¶</a></h3>
<p>The next section of the <code class="file docutils literal"><span class="pre">input.py</span></code> file specifies which, if any,
Reaction Libraries should be used. When a reaction library is specified, RMG will first
use the reaction library to generate all the relevant reactions for the species
in the core before going through the reaction templates. Unlike the Seed Mechanism,
reactions present in a Reaction Library will not be included in the core automatically
from the start.</p>
<p>You can specify your own reaction library in the location section.
In the following example, the user has created
a reaction library with a few additional reactions specific to n-butane, and these reactions
are to be used in addition to the Glarborg C3 library:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">reactionLibraries</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;Glarborg/C3&#39;</span><span class="p">,</span><span class="k">False</span><span class="p">)],</span>
</pre></div>
</div>
<p>The keyword False/True permits user to append all unused reactions (= kept in the edge) from this library to the chemkin file.
True means those reactions will be appended.</p>
<p>The reaction libraries are stored in <code class="file docutils literal"><span class="pre">$RMG-database/input/kinetics/libraries/</span></code>
and the <cite>Location:</cite> should be specified relative to this path.</p>
<p>Because the units for the Arrhenius parameters are
given in each mechanism, the different mechanisms can have different units.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>While using a Reaction Library the user must be careful enough to provide
all instances of a particular reaction in the library file, as RMG will
ignore all reactions generated by its templates.  For example, suppose you supply the
Reaction Library with butyl_1 &#8211;&gt; butyl_2.  Although RMG would find two unique
instances of this reaction (via a three- and four-member cyclic Transition State),
RMG would only use the rate coefficient supplied by you in generating the mechanism.</p>
<p class="last">RMG will not handle irreversible reactions correctly, if supplied in a Reaction
Library.</p>
</div>
</div>
<div class="section" id="seed-mechanisms">
<span id="seedmechanism"></span><h3>5.2.3. Seed Mechanisms<a class="headerlink" href="#seed-mechanisms" title="Permalink to this headline">¶</a></h3>
<p>The next section of the <code class="file docutils literal"><span class="pre">input.py</span></code> file specifies which, if any,
Seed Mechanisms should be used.  If a seed mechanism is passed to RMG, every
species and reaction present in the seed mechanism will be placed into the core, in
addition to the species that are listed in the <a class="reference internal" href="species.html#species"><span class="std std-ref">Species Representation</span></a> section.</p>
<p>For details of the kinetics libraries included with RMG that can be used as a seed mechanism,
see <a class="reference internal" href="#reactionlibraries"><span class="std std-ref">Reaction Libraries</span></a>.</p>
<p>You can specify your own
seed mechanism in the location section. Please note that the oxidation
library should not be used for pyrolysis models. The syntax for the seed mechanisms
is similar to that of the primary reaction libraries.</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">seedMechanisms</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;GRI-Mech3.0&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The seed mechanisms are stored in <code class="file docutils literal"><span class="pre">RMG-database/input/kinetics/libraries/</span></code></p>
<p>As the units for the Arrhenius parameters are given in each mechanism,
different mechanisms can have different units. Additionally, if the same
reaction occurs more than once in the combined mechanism,
the instance of it from the first mechanism in which it appears is
the one that gets used.</p>
</div>
<div class="section" id="kinetics-depositories">
<span id="kineticsdepositories"></span><h3>5.2.4. Kinetics Depositories<a class="headerlink" href="#kinetics-depositories" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span class="n">kineticsDepositories</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;training&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="kinetics-families">
<span id="kineticsfamilies"></span><h3>5.2.5. Kinetics Families<a class="headerlink" href="#kinetics-families" title="Permalink to this headline">¶</a></h3>
<p>In this section users can specify the particular reaction families that they wish to use to generate their model. for example you can use only <code class="file docutils literal"><span class="pre">Intra_RH_Add_Endocyclic</span></code> family to build the model by:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">kineticsFamilies</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;Intra_RH_Add_Endocyclic&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Otherwise, by typing &#8216;default&#8217; (and excluding the brackets that are shown in the example above), RMG will use recommended reaction families to generate the mechanism. The recommended reaction families can be found in <code class="file docutils literal"><span class="pre">RMG-database/input/families/recommended.py</span></code>.</p>
</div>
<div class="section" id="kinetics-estimator">
<h3>5.2.6. Kinetics Estimator<a class="headerlink" href="#kinetics-estimator" title="Permalink to this headline">¶</a></h3>
<p>The last section is specifying that RMG is estimating kinetics of reactions from rate rules. For more details on how kinetic estimations is working check <a class="reference internal" href="kinetics.html#kinetics"><span class="std std-ref">Kinetics Estimation</span></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">kineticsEstimator</span> <span class="o">=</span> <span class="s">&#39;rate rules&#39;</span>
</pre></div>
</div>
<p>The following is an example of a database block, based on above chosen libraries and options:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">database</span><span class="p">(</span>
        <span class="n">thermoLibraries</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;primaryThermoLibrary&#39;</span><span class="p">,</span> <span class="s">&#39;GRI-Mech3.0&#39;</span><span class="p">],</span>
        <span class="n">reactionLibraries</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&#39;Glarborg/C3&#39;</span><span class="p">,</span><span class="k">False</span><span class="p">)],</span>
        <span class="n">seedMechanisms</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;GRI-Mech3.0&#39;</span><span class="p">],</span>
        <span class="n">kineticsDepositories</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;training&#39;</span><span class="p">],</span>
        <span class="n">kineticsFamilies</span> <span class="o">=</span> <span class="s">&#39;defult&#39;</span><span class="p">,</span>
        <span class="n">kineticsEstimator</span> <span class="o">=</span> <span class="s">&#39;rate rules&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-of-species">
<span id="species"></span><h2>5.3. List of species<a class="headerlink" href="#list-of-species" title="Permalink to this headline">¶</a></h2>
<p>Species to be included in the core at the start of your RMG job are defined in the species block.
The label, reactive or inert, and structure of each reactant must be specified.</p>
<p>The label field will be used throughout your mechanism to identify the species.
Inert species in the model can be defined by setting reactive to be <code class="docutils literal"><span class="pre">False</span></code>. Reaction
families will no longer be applied to these species, but reactions of the inert from libraries
and seed mechanisms  will still be considered. For all other species the reactive status must
be set as <code class="docutils literal"><span class="pre">True</span></code>. The structure of the species can be defined using either by using SMILES or
<a class="reference internal" href="../../reference/molecule/adjlist.html#rmgpy-molecule-adjlist"><span class="std std-ref">adjacencyList</span></a>.</p>
<p>The following is an example of a typical species item, based on methane using SMILE or adjacency list to define the structure:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">species</span><span class="p">(</span>
        <span class="n">label</span><span class="o">=</span><span class="s">&#39;CH4&#39;</span><span class="p">,</span>
        <span class="n">reactive</span><span class="o">=</span><span class="k">True</span><span class="p">,</span>
        <span class="n">structure</span><span class="o">=</span><span class="n">SMILES</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">species</span><span class="p">(</span>
        <span class="n">label</span><span class="o">=</span><span class="s">&#39;CH4&#39;</span><span class="p">,</span>
        <span class="n">reactive</span><span class="o">=</span><span class="k">True</span><span class="p">,</span>
        <span class="n">structure</span><span class="o">=</span><span class="n">adjacencyList</span><span class="p">(</span>
                <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                1 C 0</span>
<span class="sd">                &quot;&quot;&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="reaction-system">
<span id="reactionsystem"></span><h2>5.4. Reaction System<a class="headerlink" href="#reaction-system" title="Permalink to this headline">¶</a></h2>
<p>Every reaction system we want the model to be generated at must be defined individually.
Currently, RMG can only model constant temperature and pressure systems. Future versions
will allow for variable temperature and pressure. To define a reaction system we need to
define the temperature, pressure and initial mole fractions of the reactant species. The
initial mole fractions are defined using the label for the species in
the species block. Every reaction system can have its termination criterion based on
species conversion or termination time or both. When both termination criterion are specified
the model generation will stop when either of the termination criterion is satisfied.</p>
<p>The following is an example of a simple reactor system:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">simpleReactor</span><span class="p">(</span>
        <span class="n">temperature</span><span class="o">=</span><span class="p">(</span><span class="mi">1350</span><span class="p">,</span><span class="s">&#39;K&#39;</span><span class="p">),</span>
        <span class="n">pressure</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">),</span>
        <span class="n">initialMoleFractions</span><span class="o">=</span><span class="p">{</span>
                <span class="s">&quot;CH4&quot;</span><span class="p">:</span> <span class="mf">0.104</span><span class="p">,</span>
                <span class="s">&quot;H2&quot;</span><span class="p">:</span> <span class="mf">0.0156</span><span class="p">,</span>
                <span class="s">&quot;N2&quot;</span><span class="p">:</span> <span class="mf">0.8797</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">terminationConversion</span><span class="o">=</span><span class="p">{</span>
                <span class="s">&#39;CH4&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">terminationTime</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="n">e0</span><span class="p">,</span><span class="s">&#39;s&#39;</span><span class="p">),</span>
        <span class="n">sensitivity</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;CH4&#39;</span><span class="p">,</span><span class="s">&#39;H2&#39;</span><span class="p">],</span>
        <span class="n">sensitivityThreshold</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span>

<span class="p">)</span>
</pre></div>
</div>
<p>Troubleshooting tip: if you are using a goal conversion rather than time, the reaction systems may reach equilibrium below the goal conversion, leading
to a job that cannot converge physically.  Therefore it is may be necessary to reduce the goal conversion or set a goal reaction time.</p>
<p>For sensitivity analysis, RMG-Py must be compiled with the DASPK solver, which is done by default but has
some dependency restrictions. (See <a class="reference internal" href="installation/dependencies.html#dependenciesrestrictions"><span class="std std-ref">License Restrictions on Dependencies</span></a> for more details.)
The sensitivity and sensitivityThrehold are optional arguments for when the
user would like to conduct sensitivity analysis with respect to the reaction rate
coefficients for the list of species given for <code class="docutils literal"><span class="pre">sensitivity</span></code>.</p>
<p>Sensitivity analysis is conducted for the list of species given for <code class="docutils literal"><span class="pre">sensitivity</span></code> argument in the input file.
The normalized concentration sensitivities with respect to the reaction rate coefficients dln(C_i)/dln(k_j) are saved to a csv file
with the file name <code class="docutils literal"><span class="pre">sensitivity_1_SPC_1.csv</span></code> with the first index value indicating the reactor system and the second naming the index of the species
the sensitivity analysis is conducted for.  Sensitivities to thermo of individual species is also saved as semi normalized sensitivities
dln(C_i)/d(G_j) where the units are given in 1/(kcal mol-1). The sensitivityThreshold is set to some value so that only
sensitivities for dln(C_i)/dln(k_j) &gt; sensitivityThreshold  or dlnC_i/d(G_j) &gt; sensitivityThreshold are saved to this file.</p>
<p>Note that in the RMG job, after the model has been generated to completion, sensitivity analysis will be conducted
in one final simulation (sensitivity is not performed in intermediate iterations of the job).</p>
</div>
<div class="section" id="simulator-tolerances">
<span id="simulatortolerances"></span><h2>5.5. Simulator Tolerances<a class="headerlink" href="#simulator-tolerances" title="Permalink to this headline">¶</a></h2>
<p>The next two lines specify the absolute and relative tolerance for the ODE solver, respectively. Common values for the absolute tolerance are 1e-15 to 1e-25. Relative tolerance is usually 1e-4 to 1e-8:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">simulator</span><span class="p">(</span>
    <span class="n">atol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span>
    <span class="n">rtol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span>
    <span class="n">sens_atol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span>
    <span class="n">sens_rtol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">sens_atol</span></code> and <code class="docutils literal"><span class="pre">sens_rtol</span></code> are optional arguments for the sensitivity absolute tolerance and sensitivity relative tolerances, respectively.  They
are set to a default value of 1e-6 and 1e-4 respectively unless the user specifies otherwise.  They do not apply when sensitivity analysis is not conducted.</p>
</div>
<div class="section" id="model-tolerances">
<span id="modeltolerances"></span><h2>5.6. Model Tolerances<a class="headerlink" href="#model-tolerances" title="Permalink to this headline">¶</a></h2>
<p>Model tolerances dictate how species get included in the model. For more information, see the theory behind how RMG builds models using the <a class="reference internal" href="../../theory/rmg/enlarger.html#ratebasedmodelenlarger"><span class="std std-ref">Flux-based Algorithm</span></a>.
For running an initial job, it is recommended to only change the <code class="docutils literal"><span class="pre">toleranceMoveToCore</span></code> and <code class="docutils literal"><span class="pre">toleranceInterruptSimulation</span></code> values to an equivalent desired value.  We find
that typically a value between <code class="docutils literal"><span class="pre">0.01</span></code> and <code class="docutils literal"><span class="pre">0.05</span></code> is best.  If your model cannot converge within a few hours, more advanced settings such as <a class="reference internal" href="#filterreactions"><span class="std std-ref">reaction filtering</span></a>
or <a class="reference internal" href="#pruning"><span class="std std-ref">pruning</span></a> can be turned on to speed up your simulation at a slight risk of omitting chemistry.</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">model</span><span class="p">(</span>
    <span class="n">toleranceMoveToCore</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">toleranceInterruptSimulation</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">toleranceMoveToCore</span></code> indicates how high the edge flux ratio for a species must get to enter the core model. This tolerance is designed for controlling the accuracy of final model.</li>
<li><code class="docutils literal"><span class="pre">toleranceInterruptSimulation</span></code> indicates how high the edge flux ratio must get to interrupt the simulation (before reaching the <code class="docutils literal"><span class="pre">terminationConversion</span></code> or <code class="docutils literal"><span class="pre">terminationTime</span></code>).  This value should be set to be equal to <code class="docutils literal"><span class="pre">toleranceMoveToCore</span></code> unless the advanced <a class="reference internal" href="#pruning"><span class="std std-ref">pruning</span></a> feature is desired.</li>
</ul>
<div class="section" id="advanced-setting-speed-up-by-filtering-reactions">
<span id="filterreactions"></span><h3>5.6.1. Advanced Setting: Speed Up by Filtering Reactions<a class="headerlink" href="#advanced-setting-speed-up-by-filtering-reactions" title="Permalink to this headline">¶</a></h3>
<p>For generating models for larger molecules, RMG-Py may have trouble converging because it must find reactions on the order of
<span class="math">\((n_{reaction\: sites})^{{n_{species}}}\)</span>.  Thus it can be further sped up by pre-filtering reactions that are
added to the model.  This modification to the algorithm does not react core species together
until their concentrations are deemed high enough.  It is recommended to turn on this flag when
the model does not converge with normal parameter settings.  See <a class="reference internal" href="../../theory/rmg/enlarger.html#filterreactionstheory"><span class="std std-ref">Filtering Reactions within the Flux-based Algorithm</span></a>. for more details.</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">model</span><span class="p">(</span>
    <span class="n">toleranceMoveToCore</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">toleranceInterruptSimulation</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">filterReactions</span><span class="o">=</span><span class="k">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>Additional parameters:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">filterReactions</span></code>: set to <code class="docutils literal"><span class="pre">True</span></code> if reaction filtering is turned on.  By default it is set to False.</li>
</ul>
</div>
<div class="section" id="advanced-setting-speed-up-by-pruning">
<span id="pruning"></span><h3>5.6.2. Advanced Setting: Speed Up by Pruning<a class="headerlink" href="#advanced-setting-speed-up-by-pruning" title="Permalink to this headline">¶</a></h3>
<p>For further speed-up, it is also possible to perform mechanism generation with pruning of “unimportant” edge species to reduce memory usage.</p>
<p>A typical set of parameters for pruning is:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">model</span><span class="p">(</span>
    <span class="n">toleranceMoveToCore</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">toleranceInterruptSimulation</span><span class="o">=</span><span class="mi">1</span><span class="n">e8</span><span class="p">,</span>
    <span class="n">toleranceKeepInEdge</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
    <span class="n">maximumEdgeSpecies</span><span class="o">=</span><span class="mi">200000</span>
    <span class="n">minCoreSizeForPrune</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
    <span class="n">minSpeciesExistIterationsForPrune</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
<p><strong>Additional parameters:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">toleranceKeepInEdge</span></code> indicates how low the edge flux ratio for a species must be to keep on the edge.  This should be set to zero, which is its default.</li>
<li><code class="docutils literal"><span class="pre">maximumEdgeSpecies</span></code> indicates the upper limit for the size of the edge. The default value is set to <code class="docutils literal"><span class="pre">1000000</span></code> species.</li>
<li><code class="docutils literal"><span class="pre">minCoreSizeForPrune</span></code> ensures that a minimum number of species are in the core before pruning occurs, in order to avoid pruning the model when it is far away from completeness.  The default value is set to 50 species.</li>
<li><code class="docutils literal"><span class="pre">minSpeciesExistIterationsForPrune</span></code> is set so that the edge species stays in the job for at least that many iterations before it can be pruned.  The default value is 2 iterations.</li>
</ul>
<p><strong>Recommendations:</strong></p>
<p>We recommend setting <code class="docutils literal"><span class="pre">toleranceKeepInEdge</span></code> to not be larger than 10% of <code class="docutils literal"><span class="pre">toleranceMoveToCore</span></code>, based on a pruning case study.
In order to always enable pruning, <code class="docutils literal"><span class="pre">toleranceInterruptSimulation</span></code> should be set as a high value, e.g. 1e8.
<code class="docutils literal"><span class="pre">maximumEdgeSpecies</span></code> can be adjusted based on user&#8217;s RAM size. Usually 200000 edge species would cause memory shortage of 8GB computer,
setting <code class="docutils literal"><span class="pre">maximumEdgeSpecies</span> <span class="pre">=</span> <span class="pre">200000</span></code> (or lower values) could effectively prevent memory crash.</p>
<p><strong>Additional Notes:</strong></p>
<p>Note that when using pruning, RMG will not prune unless all reaction systems reach the goal reaction time or conversion without exceeding the <code class="docutils literal"><span class="pre">toleranceInterruptSimulation</span></code>.
Therefore, you may find that RMG is not pruning even though the model edge size exceeds <code class="docutils literal"><span class="pre">maximumEdgeSpecies</span></code>, or an edge species has flux below the <code class="docutils literal"><span class="pre">toleranceKeepInEdge</span></code>. This is
a safety check within RMG to ensure that species are not pruned too early, resulting in inaccurate chemistry. In order to increase the likelihood of pruning you can
try increasing <code class="docutils literal"><span class="pre">toleranceInterruptSimulation</span></code> to an arbitrarily high value.</p>
<p>As a contrast, a typical set of parameters for non-pruning is:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">model</span><span class="p">(</span>
    <span class="n">toleranceKeepInEdge</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">toleranceMoveToCore</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">toleranceInterruptSimulation</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">toleranceKeepInEdge</span></code> is always 0, meaning all the edge species will be kept in edge since all the edge species have positive flux.
<code class="docutils literal"><span class="pre">toleranceInterruptSimulation</span></code> equals to <code class="docutils literal"><span class="pre">toleranceMoveToCore</span></code> so that ODE simulation get interrupted once discovering a new core species.
Because the ODE simulation is always interrupted, no pruning is performed.</p>
<p>Please find more details about the theory behind pruning at <a class="reference internal" href="../../theory/rmg/prune.html#prune"><span class="std std-ref">Pruning Theory</span></a>.</p>
</div>
</div>
<div class="section" id="on-the-fly-quantum-calculations">
<span id="ontheflyquantumcalculations"></span><h2>5.7. On the fly Quantum Calculations<a class="headerlink" href="#on-the-fly-quantum-calculations" title="Permalink to this headline">¶</a></h2>
<p>This block is used when quantum mechanical calculations are desired to determine thermodynamic parameters.
These calculations are only run if the molecule is not included in a specified thermo library.
The <code class="docutils literal"><span class="pre">onlyCyclics</span></code> option, if <code class="docutils literal"><span class="pre">True</span></code>, only runs these calculations for cyclic species.
In this case, group additive estimates are used for all other species.</p>
<p>Molecular geometries are estimated via RDKit <a class="reference internal" href="thermo.html#rdkit" id="id2">[RDKit]</a>.
Either MOPAC (2009 and 2012) or GAUSSIAN (2003 and 2009) can be used
with the semi-empirical pm3, pm6, and pm7 (pm7 only available in MOPAC2012),
specified in the software and method blocks.
A folder can be specified to store the files used in these calculations,
however if not specified this defaults to a <cite>QMfiles</cite> folder in the output folder.</p>
<p>The calculations are also only run on species with a maximum radical number set by the user.
If a molecule has a higher radical number, the molecule is saturated with hydrogen atoms, then
quantum mechanical calculations with subsequent hydrogen bond incrementation is used to determine the
thermodynamic parameters.</p>
<p>The following is an example of the quantum mechanics options</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">quantumMechanics</span><span class="p">(</span>
        <span class="n">software</span><span class="o">=</span><span class="s">&#39;mopac&#39;</span><span class="p">,</span>
        <span class="n">method</span><span class="o">=</span><span class="s">&#39;pm3&#39;</span><span class="p">,</span>
        <span class="n">fileStore</span><span class="o">=</span><span class="s">&#39;QMfiles&#39;</span><span class="p">,</span>
        <span class="n">scratchDirectory</span> <span class="o">=</span> <span class="k">None</span><span class="p">,</span>
        <span class="n">onlyCyclics</span> <span class="o">=</span> <span class="k">True</span><span class="p">,</span>
        <span class="n">maxRadicalNumber</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>
</div>
<table class="docutils citation" frame="void" id="rdkit" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[RDKit]</a></td><td>RDKit: Open-source cheminformatics; <a class="reference external" href="http://www.rdkit.org">http://www.rdkit.org</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="pressure-dependence">
<span id="pressuredependence"></span><h2>5.8. Pressure Dependence<a class="headerlink" href="#pressure-dependence" title="Permalink to this headline">¶</a></h2>
<p>This block is used when the model should account for pressure
dependent rate coefficients. RMG can estimate pressure dependence kinetics based on <code class="docutils literal"><span class="pre">Modified</span> <span class="pre">Strong</span> <span class="pre">Collision</span></code> and <code class="docutils literal"><span class="pre">Reservoir</span> <span class="pre">State</span></code> methods.
The former utilizes the modified strong collision approach of Chang, Bozzelli, and Dean <a class="reference internal" href="#chang2000" id="id3">[Chang2000]</a>,
and works reasonably well while running more rapidly. The latter
utilizes the steady-state/reservoir-state approach of Green and Bhatti <a class="reference internal" href="#green2007" id="id4">[Green2007]</a>,
and is more theoretically sound but more expensive.</p>
<p>The pressure dependence block should specify the following:</p>
<div class="section" id="method-used-for-estimating-pressure-dependent-kinetics">
<h3>5.8.1. Method used for estimating pressure dependent kinetics<a class="headerlink" href="#method-used-for-estimating-pressure-dependent-kinetics" title="Permalink to this headline">¶</a></h3>
<p>To specify the modified strong collision approach, this item should read</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">method</span><span class="o">=</span><span class="s">&#39;Modified Strong Collision&#39;</span>
</pre></div>
</div>
<p>To specify the reservoir state approach, this item should read</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">method</span><span class="o">=</span><span class="s">&#39;Reservoir State&#39;</span>
</pre></div>
</div>
<p>For more information on the two methods, consult the following resources :</p>
<table class="docutils citation" frame="void" id="chang2000" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[Chang2000]</a></td><td>A.Y. Chang, J.W. Bozzelli, and A. M. Dean. &#8220;Kinetic Analysis of Complex Chemical Activation and Unimolecular Dissociation Reactions using QRRK Theory and the Modified Strong Collision Approximation.&#8221; <em>Z. Phys. Chem.</em> <strong>214</strong> (11), p. 1533-1568 (2000).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="green2007" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Green2007]</a></td><td>N.J.B. Green and Z.A. Bhatti. &#8220;Steady-State Master Equation Methods.&#8221; <em>Phys. Chem. Chem. Phys.</em> <strong>9</strong>, p. 4275-4290 (2007).</td></tr>
</tbody>
</table>
</div>
<div class="section" id="grain-size-and-minimum-number-of-grains">
<h3>5.8.2. Grain size and minimum number of grains<a class="headerlink" href="#grain-size-and-minimum-number-of-grains" title="Permalink to this headline">¶</a></h3>
<p>Since the <span class="math">\(k(E)\)</span> requires discretization in the energy space, we need to specify the number of energy grains to use
when solving the Master Equation. The default value for the minimum number of grains is 250; this was selected to balance the speed
and accuracy of the Master Equation solver method.  However, for some pressure-dependent networks,
this number of energy grains will result in the pressure-dependent <span class="math">\(k(T, P)\)</span> being greater than
the high-P limit</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">maximumGrainSize</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="s">&#39;kcal/mol&#39;</span><span class="p">)</span>
<span class="n">minimumNumberOfGrains</span><span class="o">=</span><span class="mi">250</span>
</pre></div>
</div>
</div>
<div class="section" id="temperature-and-pressure-for-the-interpolation-scheme">
<h3>5.8.3. Temperature and pressure for the interpolation scheme<a class="headerlink" href="#temperature-and-pressure-for-the-interpolation-scheme" title="Permalink to this headline">¶</a></h3>
<p>To generate the <span class="math">\(k(T,P)\)</span> interpolation model, a set of temperatures and pressures must be used. RMG can do this automatically, but it must be told a few parameters.
We need to specify the limits of the temperature and pressure for the fitting of the interpolation scheme and the number of points to be considered in between this limit.
For typical combustion model temperatures of the experiments range from 300 - 2000 K and pressure 1E-2 to 100 bar</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">temperatures</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="s">&#39;K&#39;</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="n">pressures</span><span class="o">=</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="interpolation-scheme">
<h3>5.8.4. Interpolation scheme<a class="headerlink" href="#interpolation-scheme" title="Permalink to this headline">¶</a></h3>
<p>To use logarithmic interpolation of pressure and Arrhenius interpolation for temperature, use the
line</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">interpolation</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;PDepArrhenius&#39;</span><span class="p">,)</span>
</pre></div>
</div>
<p>The auxillary information printed to the Chemkin chem.inp file will have the &#8220;PLOG&#8221;
format.  Refer to Section 3.5.3 of the <code class="file docutils literal"><span class="pre">CHEMKIN_Input.pdf</span></code> document and/or
Section 3.6.3 of the <code class="file docutils literal"><span class="pre">CHEMKIN_Theory.pdf</span></code> document.  These files are part of
the CHEMKIN manual.</p>
<p>To fit a set of Chebyshev polynomials on inverse temperature and logarithmic pressure axes mapped
to [-1,1], use the line</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">interpolation</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;Chebyshev&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>You should also specify the number of temperature and pressure basis functions by adding the appropriate integers.
For example, the following specifies that six basis functions in temperature and four in pressure should be used</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">interpolation</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;Chebyshev&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>The auxillary information printed to the Chemkin chem.inp file will have the &#8220;CHEB&#8221;
format.  Refer to Section 3.5.3 of the <code class="file docutils literal"><span class="pre">CHEMKIN_Input.pdf</span></code> document and/or
Section 3.6.4 of the <code class="file docutils literal"><span class="pre">CHEMKIN_Theory.pdf</span></code> document.</p>
</div>
<div class="section" id="maximum-size-of-adduct-for-which-pressure-dependence-kinetics-be-generated">
<h3>5.8.5. Maximum size of adduct for which pressure dependence kinetics be generated<a class="headerlink" href="#maximum-size-of-adduct-for-which-pressure-dependence-kinetics-be-generated" title="Permalink to this headline">¶</a></h3>
<p>By default pressure dependence is run for every system that might show pressure
dependence, i.e. every isomerization, dissociation, and association reaction.
In reality, larger molecules are less likely to exhibit pressure-dependent
behavior than smaller molecules due to the presence of more modes for
randomization of the internal energy. In certain cases involving very large
molecules, it makes sense to only consider pressure dependence for molecules
smaller than some user-defined number of atoms. This is specified e.g. using
the line</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">maximumAtoms</span><span class="o">=</span><span class="mi">16</span>
</pre></div>
</div>
<p>to turn off pressure dependence for all molecules larger than the given number
of atoms (16 in the above example).</p>
<p>The following is an example of pressure dependence options</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">pressureDependence</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s">&#39;modified strong collision&#39;</span><span class="p">,</span>
        <span class="n">maximumGrainSize</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="s">&#39;kcal/mol&#39;</span><span class="p">),</span>
        <span class="n">minimumNumberOfGrains</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span>
        <span class="n">temperatures</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="s">&#39;K&#39;</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
        <span class="n">pressures</span><span class="o">=</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="s">&#39;bar&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
        <span class="n">interpolation</span><span class="o">=</span><span class="p">(</span><span class="s">&#39;Chebyshev&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
        <span class="n">maximumAtoms</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Regarding the number of polynomial coeffients for Chebyshev interpolated rates,
plese refer to the <a class="reference internal" href="../../reference/kinetics/chebyshev.html#rmgpy.kinetics.Chebyshev" title="rmgpy.kinetics.Chebyshev"><code class="xref py py-class docutils literal"><span class="pre">rmgpy.kinetics.Chebyshev</span></code></a> documentation.
The number of pressures and temperature coefficents should always be smaller
than the respective number of user-specified temperatures and pressures.</p>
</div>
</div>
<div class="section" id="miscellaneous-options">
<h2>5.9. Miscellaneous Options<a class="headerlink" href="#miscellaneous-options" title="Permalink to this headline">¶</a></h2>
<p>Miscellaneous options:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">options</span><span class="p">(</span>
    <span class="n">units</span><span class="o">=</span><span class="s">&#39;si&#39;</span><span class="p">,</span>
    <span class="n">saveRestartPeriod</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;hour&#39;</span><span class="p">),</span>
    <span class="n">generateOutputHTML</span><span class="o">=</span><span class="k">True</span><span class="p">,</span>
    <span class="n">generatePlots</span><span class="o">=</span><span class="k">False</span><span class="p">,</span>
    <span class="n">saveSimulationProfiles</span><span class="o">=</span><span class="k">True</span><span class="p">,</span>
    <span class="n">verboseComments</span><span class="o">=</span><span class="k">False</span><span class="p">,</span>
    <span class="n">saveEdgeSpecies</span><span class="o">=</span><span class="k">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">units</span></code> field is set to <code class="docutils literal"><span class="pre">si</span></code>.  Currently there are no other unit options.</p>
<p>The <code class="docutils literal"><span class="pre">saveRestartPeriod</span></code> indictes how frequently you wish to save restart files. For very large/long RMG jobs, this process can take a significant amount of time. In such cases, the user may wish to increase the time period for saving these restart files.</p>
<p>Setting <code class="docutils literal"><span class="pre">generateOutputHTML</span></code> to <code class="docutils literal"><span class="pre">True</span></code> will let RMG know that you want to save 2-D images (png files in the local <code class="docutils literal"><span class="pre">species</span></code> folder) of all species in the generated core model.  It will save a visualized
HTML file for your model containing all the species and reactions.  Turning this feature off by setting it to <code class="docutils literal"><span class="pre">False</span></code> may save memory if running large jobs.</p>
<p>Setting <code class="docutils literal"><span class="pre">generatePlots</span></code> to <code class="docutils literal"><span class="pre">True</span></code> will generate a number of plots describing the statistics of the RMG job, including the reaction model core and edge size and memory use versus  execution time. These will be placed in the output directory in the plot/ folder.</p>
<p>Setting <code class="docutils literal"><span class="pre">saveSimulationProfiles</span></code> to <code class="docutils literal"><span class="pre">True</span></code> will make RMG save csv files of the simulation in .csv files in the <code class="docutils literal"><span class="pre">solver/</span></code> folder.  The filename will be <code class="docutils literal"><span class="pre">simulation_1_26.csv</span></code> where the first number corresponds to the reaciton system, and the second number corresponds to the total number of species at the point of the simulation.  Therefore, the highest second number will indicate the latest simulation that RMG has complete while enlarging the core model.  The information inside the csv file will provide the time, reactor volume in m^3, as well as mole fractions of the individual species.</p>
<p>Setting <code class="docutils literal"><span class="pre">verboseComments</span></code> to <code class="docutils literal"><span class="pre">True</span></code> will make RMG generate chemkin files with complete verbose commentary for the kinetic and thermo parameters.  This will be helpful in debugging what values are being averaged for the kinetics.  Note that this may produce very large files.</p>
<p>Setting <code class="docutils literal"><span class="pre">saveEdgeSpecies</span></code> to <code class="docutils literal"><span class="pre">True</span></code> will make RMG generate chemkin files of the edge reactions in addition to the core model in files such as <code class="docutils literal"><span class="pre">chem_edge.inp</span></code> and <code class="docutils literal"><span class="pre">chem_edge_annotated.inp</span></code> files located inside the <code class="docutils literal"><span class="pre">chemkin</span></code> folder.  These files will be helpful in viewing RMG&#8217;s estimate for edge reactions and seeing if certain reactions one expects are actually in the edge or not.</p>
<p>Setting <code class="docutils literal"><span class="pre">keepIrreversible</span></code> to <code class="docutils literal"><span class="pre">True</span></code> will make RMG import library reactions as is, whether they are reversible or irreversible in the library. Otherwise, if <code class="docutils literal"><span class="pre">False</span></code> (default value), RMG will force all library reactions to be reversible, and will assign the forward rate from the relevant library.</p>
</div>
<div class="section" id="species-constraints">
<h2>5.10. Species Constraints<a class="headerlink" href="#species-constraints" title="Permalink to this headline">¶</a></h2>
<p>RMG can generate mechanisms with a number of optional species constraints,
such as total number of carbon atoms or electrons per species. These are applied to
all of RMG&#8217;s reaction families.</p>
<div class="highlight-default"><div class="highlight"><pre><span class="n">generatedSpeciesConstraints</span><span class="p">(</span>
    <span class="n">allowed</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;input species&#39;</span><span class="p">,</span><span class="s">&#39;seed mechanisms&#39;</span><span class="p">,</span><span class="s">&#39;reaction libraries&#39;</span><span class="p">],</span>
    <span class="n">maximumCarbonAtoms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">maximumHydrogenAtoms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">maximumOxygenAtoms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">maximumNitrogenAtoms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">maximumSiliconAtoms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">maximumSulfurAtoms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">maximumHeavyAtoms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">maximumRadicalElectrons</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">allowSingletO2</span> <span class="o">=</span> <span class="k">False</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>An additional flag <code class="docutils literal"><span class="pre">allowed</span></code> can be set to allow species
from either the input file, seed mechanisms, or reaction libraries to bypass these constraints.
Note that this should be done with caution, since the constraints will still apply to subsequent
products that form.</p>
<p>Note that under all circumstances all forbidden species will still be banned unless they are
manually removed from the database.  See <a class="reference internal" href="database/kinetics.html#kineticsdatabase"><span class="std std-ref">Kinetics Database</span></a> for more information on
forbidden groups.</p>
<p>By default, the <code class="docutils literal"><span class="pre">allowSingletO2</span></code> flag is set to <code class="docutils literal"><span class="pre">False</span></code>.  See <a class="reference internal" href="species.html#representing-oxygen"><span class="std std-ref">Representing Oxygen</span></a> for more information.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div class="sidebarlogo">
<a href="../../index.html"><img src="../../_static/rmg-logo-small.png" alt="RMG" /></a>
</div>
  <h3><a href="../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">5. Creating Input Files</a><ul>
<li><a class="reference internal" href="#syntax">5.1. Syntax</a></li>
<li><a class="reference internal" href="#datasources">5.2. Datasources</a><ul>
<li><a class="reference internal" href="#thermo-libraries">5.2.1. Thermo Libraries</a></li>
<li><a class="reference internal" href="#reaction-libraries">5.2.2. Reaction Libraries</a></li>
<li><a class="reference internal" href="#seed-mechanisms">5.2.3. Seed Mechanisms</a></li>
<li><a class="reference internal" href="#kinetics-depositories">5.2.4. Kinetics Depositories</a></li>
<li><a class="reference internal" href="#kinetics-families">5.2.5. Kinetics Families</a></li>
<li><a class="reference internal" href="#kinetics-estimator">5.2.6. Kinetics Estimator</a></li>
</ul>
</li>
<li><a class="reference internal" href="#list-of-species">5.3. List of species</a></li>
<li><a class="reference internal" href="#reaction-system">5.4. Reaction System</a></li>
<li><a class="reference internal" href="#simulator-tolerances">5.5. Simulator Tolerances</a></li>
<li><a class="reference internal" href="#model-tolerances">5.6. Model Tolerances</a><ul>
<li><a class="reference internal" href="#advanced-setting-speed-up-by-filtering-reactions">5.6.1. Advanced Setting: Speed Up by Filtering Reactions</a></li>
<li><a class="reference internal" href="#advanced-setting-speed-up-by-pruning">5.6.2. Advanced Setting: Speed Up by Pruning</a></li>
</ul>
</li>
<li><a class="reference internal" href="#on-the-fly-quantum-calculations">5.7. On the fly Quantum Calculations</a></li>
<li><a class="reference internal" href="#pressure-dependence">5.8. Pressure Dependence</a><ul>
<li><a class="reference internal" href="#method-used-for-estimating-pressure-dependent-kinetics">5.8.1. Method used for estimating pressure dependent kinetics</a></li>
<li><a class="reference internal" href="#grain-size-and-minimum-number-of-grains">5.8.2. Grain size and minimum number of grains</a></li>
<li><a class="reference internal" href="#temperature-and-pressure-for-the-interpolation-scheme">5.8.3. Temperature and pressure for the interpolation scheme</a></li>
<li><a class="reference internal" href="#interpolation-scheme">5.8.4. Interpolation scheme</a></li>
<li><a class="reference internal" href="#maximum-size-of-adduct-for-which-pressure-dependence-kinetics-be-generated">5.8.5. Maximum size of adduct for which pressure dependence kinetics be generated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#miscellaneous-options">5.9. Miscellaneous Options</a></li>
<li><a class="reference internal" href="#species-constraints">5.10. Species Constraints</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

<h4><a href="https://github.com/ReactionMechanismGenerator/RMG-Py/blob/master/documentation/source/users/rmg/input.rst"
           rel="nofollow">Edit this page</a></h4><P>
<div class="customsidebar">
<P>
<table cellpadding="3">

<tr><td>
        <a href="http://reactionmechanismgenerator.github.io/RMG-Py"><img src="../../_static/documentation-icon.png" class="icon_sidebar" width="32px" alt="Documentation"/></a>
</td>
<td>
        <div class="biglink_sidebar"><a href="http://reactionmechanismgenerator.github.io/RMG-Py">Documentation</a></div>
        <div class="linkdesc">Learn more about the RMG software</div>
</td></tr>

<tr><td>
        <a href="http://rmg.mit.edu/database/"><img src="../../_static/database-logo-small.png" class="icon_sidebar" width="32px" alt="Database"/></a>
</td>
<td>
        <div class="biglink_sidebar"><a href="http://rmg.mit.edu/database/">Database</a></div>
        <div class="linkdesc">Browse the RMG database of chemical and kinetic parameters</div>
</td></tr>

<tr><td>
        <a href="http://rmg.mit.edu/input"><img src="../../_static/input-logo-small.png" class="icon_sidebar" width="32px" alt="Create Input File"/></a>
</td>
<td>
        <div class="biglink_sidebar"><a href="http://rmg.mit.edu/input">Create Input File</a></div>
        <div class="linkdesc">Online form for making an RMG input file</div>
</td></tr>

<tr><td>
        <a href="http://rmg.mit.edu/molecule_search"><img src="../../_static/moleculedraw-logo-small.png" class="icon_sidebar" width="32px" alt="Molecule Search"/></a>
</td>
<td>
        <div class="biglink_sidebar"><a href="http://rmg.mit.edu/molecule_search">Molecule Search</a></div>
        <div class="linkdesc">Draw a molecule from its adjlist and search or estimate its properties</div>
</td></tr>

<tr><td>
        <a href="http://rmg.mit.edu/database/kinetics/search/"><img src="../../_static/kinetics-search-logo-small.png" class="icon_sidebar" width="32px" alt="Kinetics Search"/></a>
</td>
<td>
        <div class="biglink_sidebar"><a href="http://rmg.mit.edu/database/kinetics/search/">Kinetics Search</a></div>
        <div class="linkdesc">Search or estimate kinetics of a chemical reaction</div>
</td></tr>

<tr><td>
        <a href="http://rmg.mit.edu/solvation_search"><img src="../../_static/solvation-search-logo-small.png" class="icon_sidebar" width="32px" alt="Solvation Search"/></a>
</td>
<td>
        <div class="biglink_sidebar"><a href="http://rmg.mit.edu/solvation_search">Solvation Search</a></div>
        <div class="linkdesc">Search or estimate solvation properties of solvent and a solute</div>
</td></tr>


<tr><td>
        <a href="http://rmg.mit.edu/pdep/"><img src="../../_static/pdep-logo-small.png" class="icon_sidebar" width="32px" alt="Pressure Dependent Networks"/></a>
</td>
<td>
        <div class="biglink_sidebar"><a href="http://rmg.mit.edu/pdep/">Pressure Dependent Networks</a></div>
        <div class="linkdesc">CanTherm pdep kinetic calculations</div>
</td></tr>

<tr><td>
        <a href="http://rmg.mit.edu/tools/"><img src="../../_static/tools-icon.png" class="icon_sidebar" width="32px" alt="Simulation & Tools"/></a>
</td>
<td>
        <div class="biglink_sidebar"><a href="http://rmg.mit.edu/tools/">Other RMG Tools</a></div>
        <div class="linkdesc">Additional tools to supplement RMG</div>
</td></tr>

</table>

</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2002-2015, William H. Green, Richard H. West, and the RMG Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>